// This file is auto-generated by @hey-api/openapi-ts

import type { _JSONValue, UseMutationOptions, UseQueryOptions } from '@pinia/colada';

import { client } from '../client.gen';
import {
  config,
  mediaAll,
  mediaGet,
  mediaGet2,
  mediaGet3,
  mediaGet4,
  mediaGet5,
  mediaPatch,
  type Options,
  weather,
  weatherAll,
  weatherAll2,
} from '../sdk.gen';
import type {
  ConfigData,
  ConfigResponse,
  MediaAllData,
  MediaAllResponse,
  MediaGet2Data,
  MediaGet3Data,
  MediaGet4Data,
  MediaGet4Response,
  MediaGet5Data,
  MediaGet5Response,
  MediaGetData,
  MediaGetResponse,
  MediaPatchData,
  MediaPatchResponse,
  WeatherAll2Data,
  WeatherAll2Response,
  WeatherAllData,
  WeatherAllResponse,
  WeatherData,
  WeatherResponse,
} from '../types.gen';

export type QueryKey<TOptions extends Options> = [
  Pick<TOptions, 'body' | 'path'> & {
    _id: string;
    baseUrl?: _JSONValue;
    headers?: _JSONValue;
    query?: _JSONValue;
    tags?: _JSONValue;
  },
];

const createQueryKey = <TOptions extends Options>(
  id: string,
  options?: TOptions,
  tags?: ReadonlyArray<string>,
): [QueryKey<TOptions>[0]] => {
  const params: QueryKey<TOptions>[0] = {
    _id: id,
    baseUrl: options?.baseUrl || (options?.client ?? client).getConfig().baseUrl,
  } as QueryKey<TOptions>[0];
  if (tags) {
    params.tags = tags as unknown as undefined;
  }
  if (options?.body) {
    params.body = options.body;
  }
  if (options?.headers) {
    params.headers = options.headers as unknown as undefined;
  }
  if (options?.path) {
    params.path = options.path;
  }
  if (options?.query) {
    params.query = options.query as unknown as undefined;
  }
  return [params];
};

export const configQueryKey = (options?: Options<ConfigData>) => createQueryKey('config', options, ['config']);

export const configQuery = (options?: Options<ConfigData>): UseQueryOptions<ConfigResponse, Error> => {
  return {
    key: configQueryKey(options),
    query: async (context) => {
      const { data } = await config({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const mediaGetQueryKey = (options: Options<MediaGetData>) =>
  createQueryKey('mediaGet', options, ['random', 'media']);

export const mediaGetQuery = (options: Options<MediaGetData>): UseQueryOptions<MediaGetResponse, Error> => {
  return {
    key: mediaGetQueryKey(options),
    query: async (context) => {
      const { data } = await mediaGet({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const mediaAllQueryKey = (options: Options<MediaAllData>) =>
  createQueryKey('mediaAll', options, ['paginate', 'media']);

export const mediaAllQuery = (options: Options<MediaAllData>): UseQueryOptions<MediaAllResponse, Error> => {
  return {
    key: mediaAllQueryKey(options),
    query: async (context) => {
      const { data } = await mediaAll({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const mediaPatchMutation = (
  options?: Partial<Options<MediaPatchData>>,
): UseMutationOptions<MediaPatchResponse, Options<MediaPatchData>, Error> => {
  return {
    mutation: async (fnOptions) => {
      const { data } = await mediaPatch({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const mediaGet2QueryKey = (options: Options<MediaGet2Data>) =>
  createQueryKey('mediaGet2', options, ['item', 'download', 'media']);

export const mediaGet2Query = (options: Options<MediaGet2Data>): UseQueryOptions<unknown, Error> => {
  return {
    key: mediaGet2QueryKey(options),
    query: async (context) => {
      const { data } = await mediaGet2({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const mediaGet3QueryKey = (options: Options<MediaGet3Data>) =>
  createQueryKey('mediaGet3', options, ['line', 'download', 'media']);

export const mediaGet3Query = (options: Options<MediaGet3Data>): UseQueryOptions<unknown, Error> => {
  return {
    key: mediaGet3QueryKey(options),
    query: async (context) => {
      const { data } = await mediaGet3({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const mediaGet4QueryKey = (options: Options<MediaGet4Data>) =>
  createQueryKey('mediaGet4', options, ['item', 'transform', 'media']);

export const mediaGet4Query = (options: Options<MediaGet4Data>): UseQueryOptions<MediaGet4Response, Error> => {
  return {
    key: mediaGet4QueryKey(options),
    query: async (context) => {
      const { data } = await mediaGet4({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const mediaGet5QueryKey = (options: Options<MediaGet5Data>) =>
  createQueryKey('mediaGet5', options, ['line', 'transform', 'media']);

export const mediaGet5Query = (options: Options<MediaGet5Data>): UseQueryOptions<MediaGet5Response, Error> => {
  return {
    key: mediaGet5QueryKey(options),
    query: async (context) => {
      const { data } = await mediaGet5({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const weatherQueryKey = (options: Options<WeatherData>) =>
  createQueryKey('weather', options, ['weather', 'current']);

export const weatherQuery = (options: Options<WeatherData>): UseQueryOptions<WeatherResponse, Error> => {
  return {
    key: weatherQueryKey(options),
    query: async (context) => {
      const { data } = await weather({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const weatherAllQueryKey = (options: Options<WeatherAllData>) =>
  createQueryKey('weatherAll', options, ['weather', 'hourly']);

export const weatherAllQuery = (options: Options<WeatherAllData>): UseQueryOptions<WeatherAllResponse, Error> => {
  return {
    key: weatherAllQueryKey(options),
    query: async (context) => {
      const { data } = await weatherAll({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};

export const weatherAll2QueryKey = (options: Options<WeatherAll2Data>) =>
  createQueryKey('weatherAll2', options, ['weather', 'daily']);

export const weatherAll2Query = (options: Options<WeatherAll2Data>): UseQueryOptions<WeatherAll2Response, Error> => {
  return {
    key: weatherAll2QueryKey(options),
    query: async (context) => {
      const { data } = await weatherAll2({
        ...options,
        ...context,
        throwOnError: true,
      });
      return data;
    },
  };
};
