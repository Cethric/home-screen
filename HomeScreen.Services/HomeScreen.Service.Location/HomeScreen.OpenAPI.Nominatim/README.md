# HomeScreen.OpenAPI.Nominatim - the C# library for the Nominatim Open API Spec

No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)

This C# SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 1.0.0
- SDK version: 1.0.0
- Generator version: 7.7.0
- Build package: org.openapitools.codegen.languages.CSharpClientCodegen
    For more information, please visit [https://github.com/Cethric](https://github.com/Cethric)

<a id="frameworks-supported"></a>
## Frameworks supported

<a id="dependencies"></a>
## Dependencies

- [Json.NET](https://www.nuget.org/packages/Newtonsoft.Json/) - 13.0.2 or later
- [JsonSubTypes](https://www.nuget.org/packages/JsonSubTypes/) - 1.8.0 or later
- [System.ComponentModel.Annotations](https://www.nuget.org/packages/System.ComponentModel.Annotations) - 5.0.0 or later

The DLLs included in the package may not be the latest version. We recommend using [NuGet](https://docs.nuget.org/consume/installing-nuget) to obtain the latest version of the packages:
```
Install-Package Newtonsoft.Json
Install-Package JsonSubTypes
Install-Package System.ComponentModel.Annotations
```
<a id="installation"></a>
## Installation
Run the following command to generate the DLL
- [Mac/Linux] `/bin/sh build.sh`
- [Windows] `build.bat`

Then include the DLL (under the `bin` folder) in the C# project, and use the namespaces:
```csharp
using HomeScreen.OpenAPI.Nominatim.Api;
using HomeScreen.OpenAPI.Nominatim.Client;
using HomeScreen.OpenAPI.Nominatim.Model;
```
<a id="packaging"></a>
## Packaging

A `.nuspec` is included with the project. You can follow the Nuget quickstart to [create](https://docs.microsoft.com/en-us/nuget/quickstart/create-and-publish-a-package#create-the-package) and [publish](https://docs.microsoft.com/en-us/nuget/quickstart/create-and-publish-a-package#publish-the-package) packages.

This `.nuspec` uses placeholders from the `.csproj`, so build the `.csproj` directly:

```
nuget pack -Build -OutputDirectory out HomeScreen.OpenAPI.Nominatim.csproj
```

Then, publish to a [local feed](https://docs.microsoft.com/en-us/nuget/hosting-packages/local-feeds) or [other host](https://docs.microsoft.com/en-us/nuget/hosting-packages/overview) and consume the new package via Nuget as usual.

<a id="usage"></a>
## Usage

To use the API client with a HTTP proxy, setup a `System.Net.WebProxy`
```csharp
Configuration c = new Configuration();
System.Net.WebProxy webProxy = new System.Net.WebProxy("http://myProxyUrl:80/");
webProxy.Credentials = System.Net.CredentialCache.DefaultCredentials;
c.Proxy = webProxy;
```

### Connections
Each ApiClass (properly the ApiClient inside it) will create an instance of HttpClient. It will use that for the entire lifecycle and dispose it when called the Dispose method.

To better manager the connections it's a common practice to reuse the HttpClient and HttpClientHandler (see [here](https://docs.microsoft.com/en-us/dotnet/architecture/microservices/implement-resilient-applications/use-httpclientfactory-to-implement-resilient-http-requests#issues-with-the-original-httpclient-class-available-in-net) for details). To use your own HttpClient instance just pass it to the ApiClass constructor.

```csharp
HttpClientHandler yourHandler = new HttpClientHandler();
HttpClient yourHttpClient = new HttpClient(yourHandler);
var api = new YourApiClass(yourHttpClient, yourHandler);
```

If you want to use an HttpClient and don't have access to the handler, for example in a DI context in Asp.net Core when using IHttpClientFactory.

```csharp
HttpClient yourHttpClient = new HttpClient();
var api = new YourApiClass(yourHttpClient);
```
You'll loose some configuration settings, the features affected are: Setting and Retrieving Cookies, Client Certificates, Proxy settings. You need to either manually handle those in your setup of the HttpClient or they won't be available.

Here an example of DI setup in a sample web project:

```csharp
services.AddHttpClient<YourApiClass>(httpClient =>
   new PetApi(httpClient));
```


<a id="getting-started"></a>
## Getting Started

```csharp
using System.Collections.Generic;
using System.Diagnostics;
using System.Net.Http;
using HomeScreen.OpenAPI.Nominatim.Api;
using HomeScreen.OpenAPI.Nominatim.Client;
using HomeScreen.OpenAPI.Nominatim.Model;

namespace Example
{
    public class Example
    {
        public static void Main()
        {

            Configuration config = new Configuration();
            config.BasePath = "https://nominatim.openstreetmap.org";
            // create instances of HttpClient, HttpClientHandler to be reused later with different Api classes
            HttpClient httpClient = new HttpClient();
            HttpClientHandler httpClientHandler = new HttpClientHandler();
            var apiInstance = new DefaultApi(httpClient, config, httpClientHandler);
            var lat = 1.2D;  // double | Latitude of a coordinate in WGS84 projection
            var lon = 1.2D;  // double | Longitude of a coordinate in WGS84 projection
            var format = new OutputFormat?(); // OutputFormat? |  (optional) 
            var jsonCallback = "jsonCallback_example";  // string? | When given, then JSON output will be wrapped in a callback function with the given name. See JSONP for more  information.    Only has an effect for JSON output formats.  (optional) 
            var addressdetails = new NumberBoolean?(); // NumberBoolean? | When set to 1, include a breakdown of the address into elements. The exact content of the address breakdown  depends on the output format.  (optional) 
            var extratags = new NumberBoolean?(); // NumberBoolean? | When set to 1, the response include any additional information in the result that is available in the database, e.g. wikipedia link, opening hours.  (optional) 
            var namedetails = new NumberBoolean?(); // NumberBoolean? | When set to 1, include a full list of names for the result. These may include language variants, older names, references and brand.  (optional) 
            var entrances = new NumberBoolean?(); // NumberBoolean? | When set to 1, include the tagged entrances in the result.  (optional) 
            var acceptLanguage = "\"en\"";  // string? | Preferred language order for showing search results. This may either be a simple comma-separated list of language codes or have the same format as the [\"Accept-Language\" HTTP header.](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language)  (optional)  (default to "en")
            var zoom = 56;  // int? | Level of detail required for the address. This is a number that corresponds roughly to the zoom level used in XYZ tile sources in frameworks like Leaflet.js, Openlayers etc.  (optional) 
            var layer = new Layer?(); // Layer? |  (optional) 
            var polygonGeojson = 0MD;  // decimal? |  (optional)  (default to 0M)
            var polygonKml = 0MD;  // decimal? |  (optional)  (default to 0M)
            var polygonSvg = 0MD;  // decimal? |  (optional)  (default to 0M)
            var polygonText = 0MD;  // decimal? |  (optional)  (default to 0M)
            var polygonThreshold = 0F;  // float? | When one of the polygon_* outputs is chosen, return a simplified version of the output geometry. The parameter describes the tolerance in degrees with which the geometry may differ from the original geometry. Topology is preserved in the geometry.  (optional)  (default to 0F)
            var email = "email_example";  // string? | If you are making large numbers of request please include an appropriate email address to identify your requests. See Nominatim's Usage Policy for more details.  (optional) 
            var debug = 0MD;  // decimal? | Output assorted developer debug information. Data on internals of Nominatim's \"search loop\" logic, and SQL queries. The output is HTML format. This overrides the specified machine readable format.  (optional)  (default to 0M)

            try
            {
                // Reverse geocoding generates an address from a coordinate given as latitude and longitude.
                ReverseOutputJson result = apiInstance.ReverseGet(lat, lon, format, jsonCallback, addressdetails, extratags, namedetails, entrances, acceptLanguage, zoom, layer, polygonGeojson, polygonKml, polygonSvg, polygonText, polygonThreshold, email, debug);
                Debug.WriteLine(result);
            }
            catch (ApiException e)
            {
                Debug.Print("Exception when calling DefaultApi.ReverseGet: " + e.Message );
                Debug.Print("Status Code: "+ e.ErrorCode);
                Debug.Print(e.StackTrace);
            }

        }
    }
}
```

<a id="documentation-for-api-endpoints"></a>
## Documentation for API Endpoints

All URIs are relative to *https://nominatim.openstreetmap.org*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*DefaultApi* | [**ReverseGet**](docs/DefaultApi.md#reverseget) | **GET** /reverse | Reverse geocoding generates an address from a coordinate given as latitude and longitude.


<a id="documentation-for-models"></a>
## Documentation for Models

 - [Model.Layer](docs/Layer.md)
 - [Model.NumberBoolean](docs/NumberBoolean.md)
 - [Model.OutputFormat](docs/OutputFormat.md)
 - [Model.ReverseOutputJson](docs/ReverseOutputJson.md)
 - [Model.ReverseOutputXml](docs/ReverseOutputXml.md)
 - [Model.ReverseOutputXmlAddressparts](docs/ReverseOutputXmlAddressparts.md)
 - [Model.ReverseOutputXmlResult](docs/ReverseOutputXmlResult.md)


<a id="documentation-for-authorization"></a>
## Documentation for Authorization

Endpoints do not require authorization.

